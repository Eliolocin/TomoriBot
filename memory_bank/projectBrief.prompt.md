# TomoriBot
 A Discord-based AI chatbot with dynamic personality, memory, and DevOps-focused modular architecture. Started off as a hobby project by Eli, it is now being developed as a presentable public GitHub project which everyone can utilize and contribute towards development.

## 🎯 Project Summary
TomoriBot is a highly customizable Discord bot powered by Large Language Models (LLMs). Users can personalize her behavior, personality, memory, and language, making her adaptable for both **roleplaying** and **practical use** in community servers.

She is designed to be modular, developer-friendly, and easily deployable—ideal for experimenting with personality-driven AI interaction in social spaces.

## 💡 Core Features
- Slash command support
- Server- and user-based memory storage
- Personality presets and editing
- Language preference per user
- Admin-only configuration (e.g., model selection, API keys)
- Gemini Function Calling
- CI/CD ready and DevOps-aligned project layout

## 👥 Target Users
- Discord server owners who want an interactive, helpful, or roleplay-capable AI bot that adapts to server needs/wants
- Users interested in customizing AI personalities for social and community interaction
- Developers and tinkerers experimenting with LLMs, memory systems, and Chatbot UX

## 🔧 Tech Stack
- **TypeScript+Zod** for type-checking on compile and runtime
- **Bun** as the runtime and tooling manager
- **Discord.js** for bot-client interaction
- **PostgreSQL** as the primary database
- **LLM API integration** (Google's Gemini only for now)
- **GitHub Actions** for CI/CD pipelines and linting
- **AWS Cloud** for hosting and deployment

## 📦 Project Core Structure (High-Level Overview)
TomoriBot/
│
├─ memory_bank/                 ← “Copilot / Roo memory-bank” docs (project brief, activeContext …)
├─ node_modules/                ← deps – auto-generated by Bun
├─ scripts/                     ← one-off maintenance / CLI helpers (run with `bun run`)
│   ├─ clean-dist.ts            ← wipe build artifacts
│   ├─ nuke-db.ts               ← drop + recreate dev database
│   ├─ purge-commands.ts        ← bulk-delete Discord slash commands
│   └─ seed-db.ts               ← run `schema.sql` + `seed.sql`
└─ src/                         ← **everything that ships inside the bot**
    ├─ commands/                ← slash-command source files (grouped by category)
    │   ├─ config/              ← `/config …` sub-commands
    │   │   └─ setup.ts
    │   ├─ tool/
    │   │   └─ ping.ts
    │   └─ …                    ← more categories to come
    ├─ db/                      ← SQL that defines & seeds Postgres
    │   ├─ schema.sql
    │   └─ seed.sql
    ├─ events/                  ← low-level Discord gateway listeners
    │   ├─ guildCreate/         ── when Tomori joins a server
    │   │   └─ addBot.ts
    │   ├─ guildMemberAdd/
    │   │   └─ registerUser.ts
    │   ├─ interactionCreate/
    │   │   └─ handleCommands.ts
    │   ├─ messageCreate/
    │   │   ├─ jpTrans.ts
    │   │   └─ tomoriChat.ts
    │   └─ ready/
    │       ├─ 01_registerCommands.ts
    │       └─ status.ts
    ├─ functions/               ← functions that Google Gemini can use during inference (Function Calling API)
    │   ├─ generateImage.ts
    │   ├─ scrapeBooru.ts
    │   └─ sendSticker.ts
    ├─ handlers/                ← central dispatcher / shared event utils
    │   └─ eventHandler.ts
    ├─ locales/                 ← i18n JSON dictionaries (`tool.ping.description` → string)
    │   ├─ en.ts
    │   └─ ja.json
    ├─ providers/               ← wrappers for external APIs (LLMs, image gen …)
    │   └─ google.ts
    ├─ types/                   ← global/shared TypeScript definitions
    │   ├─ ambient/             ← `declare global { … }`
    │   ├─ api/
    │   ├─ db/
    │   │   └─ schema.ts        ← TS mirror of `schema.sql`
    │   └─ discord/
    │       ├─ embed.ts
    │       ├─ global.ts
    │       └─ modal.ts
    ├─ utils/                   ← general-purpose helpers (split by domain)
    │   ├─ db/
        │   ├─ dbRead.ts
    │   │   └─ dbWrite.ts
    │   ├─ discord/
    │   │   ├─ commandLoader.ts
    │   │   ├─ embedHelper.ts
    │   │   ├─ eventHelper.ts
    │   │   └─ interactionHelper.ts
    │   ├─ misc/
    │   │   ├─ boolUtils.ts
    │   │   ├─ formatSource.ts
    │   │   ├─ ioHelper.ts
    │   │   └─ logger.ts
    │   ├─ security/            ← crypto utilities (pgcrypto wrappers, key mgmt)
    │   │   └─ crypto.ts        
    │   └─ text/                ← LLM prompt / context builders & post-processors
    │      ├─ contextBuilder.ts
    │      ├─ humanizer.ts
    │      ├─ localizer.ts
    │      └─ stringHelper.ts              
    └─ index.ts                 ← entry point – creates Discord client & bootstraps everything
├─ .env.example                 ← template env (copy to `.env`)
├─ bun.lock                     ← Bun dependency lockfile
├─ biome.json                   ← formatter/linter config
└─ README.md                    ← project overview

## 🧭 Project Goals
- Build a **Minimal Viable Product (MVP)** during Spring Vacation
- Practice clean **CI/CD DevOps** pipelines and good code hygiene (such as avoiding over-abstraction)
- Enable **user-led customization** of memory and personality features
- Support ongoing modular feature expansion without tech debt
